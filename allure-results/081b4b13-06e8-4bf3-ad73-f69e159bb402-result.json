{"name": "test_api_case[\\u521b\\u5efa\\u65b0\\u7528\\u6237\\u6210\\u529f]", "status": "failed", "statusDetails": {"message": "AssertionError: assert False\n +  where False = verify('成功返回新创建的用户信息', '{\"timestamp\":\"2026-02-03T12:24:43.628+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"path\":\"/api/user/add\"}', assert_type='semantic_match', use_ai_assertion=True)\n +    where verify = <src.core.ai_judge.AIJudge object at 0x72d1a6981e40>.verify", "trace": "case_data = {'assert_type': 'semantic_match', 'data': {'email': 'new_user@example.com', 'password': 'new_password', 'role': 'USER', 'username': 'new_user'}, 'expected': '成功返回新创建的用户信息', 'headers': {'Authorization': 'Bearer valid_token'}, ...}\n\n    def test_api_case(case_data: Dict[str, Any]) -> None:\n        \"\"\"\n        用例执行入口（Pytest 会为每条 JSON 用例生成一次调用）。\n    \n        流程：\n        1) 从 case_data 解析请求信息\n        2) 发起 HTTP 请求\n        3) 调用 AIJudge 进行断言\n        \"\"\"\n    \n        logger = get_logger(__name__)\n        settings = read_yaml(\"config/settings.yaml\")\n        exec_cfg = settings.get(\"execution\", {})\n    \n        # 1) 解析用例字段\n        url = case_data.get(\"url\")\n        method = case_data.get(\"method\", \"GET\")\n        headers = case_data.get(\"headers\") or {}\n        params = case_data.get(\"params\") or {}\n        payload = case_data.get(\"data\") or {}\n    \n        if not url:\n            pytest.skip(\"Case missing URL\")\n    \n        # 2) 发起请求\n        logger.info(\"Executing case: %s %s\", method, url)\n        response = requests.request(\n            method=method,\n            url=url,\n            headers=headers,\n            params=params,\n            json=payload,\n            timeout=exec_cfg.get(\"request_timeout_seconds\", 30),\n            verify=exec_cfg.get(\"verify_ssl\", True),\n        )\n    \n        # 3) 断言配置（用例优先于全局配置）\n        assert_type = case_data.get(\"assert_type\", exec_cfg.get(\"default_assert_type\", \"semantic_match\"))\n        use_ai = case_data.get(\"use_ai_assertion\", exec_cfg.get(\"use_ai_assertion\", True))\n    \n        judge = AIJudge()\n        expected = case_data.get(\"expected\", \"\")\n        actual = response.text\n    \n        # 4) 执行断言\n>       assert judge.verify(expected, actual, assert_type=assert_type, use_ai_assertion=use_ai)\nE       assert False\nE        +  where False = verify('成功返回新创建的用户信息', '{\"timestamp\":\"2026-02-03T12:24:43.628+00:00\",\"status\":500,\"error\":\"Internal Server Error\",\"path\":\"/api/user/add\"}', assert_type='semantic_match', use_ai_assertion=True)\nE        +    where verify = <src.core.ai_judge.AIJudge object at 0x72d1a6981e40>.verify\n\ntest_runner/test_executor.py:58: AssertionError"}, "description": "\n    用例执行入口（Pytest 会为每条 JSON 用例生成一次调用）。\n\n    流程：\n    1) 从 case_data 解析请求信息\n    2) 发起 HTTP 请求\n    3) 调用 AIJudge 进行断言\n    ", "attachments": [{"name": "log", "source": "bab86a3f-4c76-4212-b8a4-7790b7aff854-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "c2588f1d-e894-4a53-827e-332d296ffb98-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "case_data", "value": "{'name': '创建新用户成功', 'url': 'http://localhost:1234/api/user/add', 'method': 'POST', 'headers': {'Authorization': 'Bearer valid_token'}, 'params': {}, 'data': {'username': 'new_user', 'password': 'new_password', 'email': 'new_user@example.com', 'role': 'USER'}, 'expected': '成功返回新创建的用户信息', 'assert_type': 'semantic_match', 'use_ai_assertion': True}"}], "start": 1770121483555, "stop": 1770121486839, "uuid": "9d799b1e-e253-4c6f-9fab-9efb57265b5d", "historyId": "7d85cf98bb83b6bc832a1868663cebe8", "testCaseId": "278aa800314e981ef1eecb638c9b282c", "fullName": "test_runner.test_executor#test_api_case", "labels": [{"name": "parentSuite", "value": "test_runner"}, {"name": "suite", "value": "test_executor"}, {"name": "host", "value": "user"}, {"name": "thread", "value": "345314-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_runner.test_executor"}], "titlePath": ["test_runner", "test_executor.py"]}